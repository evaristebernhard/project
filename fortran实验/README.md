# Fortran 实验 — 数学原理速查

本文件只说明每个实验中用到的数学原理（面向大一，同学可把它作为速查表）。不涉及代码细节或实现。

## 实验·1：五边形面积（划分为三角形 + 海伦公式）
- 思路：把五边形按两条对角线划分为三个三角形，分别求面积再相加。
- 三角形面积（海伦公式）：给定三边 a,b,c，半周长 s = (a+b+c)/2，面积 A = $\sqrt{s(s-a)(s-b)(s-c)}$。
- 有效性条件：三角形成立需满足三角不等式 a+b>c, a+c>b, b+c>a。

## 实验2：一元二次方程求根
- 方程：Ax^2 + Bx + C = 0。
- 判别式：$\Delta = B^2 - 4AC$。
  - 若 $\Delta>0$：两个不同实根 $x = \frac{-B\pm\sqrt{\Delta}}{2A}$。
  - 若 $\Delta=0$：重根 $x = -B/(2A)$。
  - 若 $\Delta<0$：共轭复根 $x = \frac{-B}{2A} \pm i\frac{\sqrt{-\Delta}}{2A}$。
- 特殊情形：若 A=0 退化为线性方程 Bx+C=0。

## 实验3：e^x 的泰勒级数展开
- 泰勒级数（以 0 为中心）：
  $e^x = \sum_{n=0}^{\infty} \frac{x^n}{n!} = 1 + x + x^2/2! + x^3/3! + \dots$。
- 截断规则：取前 N 项或当某一项的绝对值小于给定阈值 $\varepsilon$ 时停止。
- 逐项递推：第 n 项 $t_n = t_{n-1} * x / n$，节省重复计算阶乘。

## 实验4/5/6：点数据裁剪（按坐标范围筛选）
- 数据模型：每行由 (X, Y, H) 三个实数描述一个点（H 通常为高度或场值）。
- 筛选条件（包含点）：
  $X_{min} \le X \le X_{max}$ 且 $Y_{min} \le Y \le Y_{max}$。
- 实现上为布尔判断，数学上是集合的交集运算：取满足两个区间约束的点集。

## 实验7：矩阵乘法
- 设 A 为 $m\times n$ 矩阵，B 为 $n\times p$ 矩阵，则乘积 C = A B 为 $m\times p$ 矩阵，元素定义：
  $C_{ij} = \sum_{k=1}^n A_{ik} B_{kj}$。
- 尺寸约束：矩阵乘法可行当且仅当 A 的列数等于 B 的行数（A_n == B_m）。

## 实验8：网格数据处理与范围统计
- 网格头信息通常包括点数 (point_x, line_y) 与范围 (Xmin,Xmax,Ymin,Ymax)，网格点排列通常为 x 索引在内层、y 索引在外层。
- 网格点间距（等间距假设）：
  - $dx = (X_{max}-X_{min})/(point_x-1)$
  - $dy = (Y_{max}-Y_{min})/(line_y-1)$
- 行区间批量修改（如对第 line1..line2 行的高度加上 step）：数学上是对矩阵中一子矩阵添加常数。
- 最小/最大值计算：遍历所有点求 $\min$ 与 $\max$ —— O(N) 操作。

## 通用数值注意事项（简短）
- 浮点比较：不要直接用等号判断浮点为零，常用方法是判断绝对值小于某一阈值（如 1E-9）。
- 溢出/稳定性：在计算大阶乘或指数串时注意项的增长/衰减，必要时使用更稳健的数值方法（本课程初级例子中一般不涉及）。

如果你想，我可以把上述每个小节扩展为带公式推导的更详细版（例如把泰勒余项、海伦公式的推导步骤、矩阵乘法的复杂度估算等），或者把 README 翻译成英文。哪一种你更需要？
